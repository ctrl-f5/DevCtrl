CREATE TABLE itemtiming (id INT AUTO_INCREMENT NOT NULL, item_id INT DEFAULT NULL, estimated INT NOT NULL, executed INT NOT NULL, UNIQUE INDEX UNIQ_B32E61A7126F525E (item_id), PRIMARY KEY(id)) DEFAULT CHARACTER SET utf8 COLLATE utf8_general_ci ENGINE = InnoDB;
CREATE TABLE itemstate (id INT AUTO_INCREMENT NOT NULL, `label` VARCHAR(255) NOT NULL, color VARCHAR(255) DEFAULT NULL, nativeState VARCHAR(255) NOT NULL, `order` INT NOT NULL, itemStateList_id INT DEFAULT NULL, INDEX IDX_3686E61BA400260B (itemStateList_id), PRIMARY KEY(id)) DEFAULT CHARACTER SET utf8 COLLATE utf8_general_ci ENGINE = InnoDB;
CREATE TABLE nativevalue_string (id INT NOT NULL, value VARCHAR(255) NOT NULL, PRIMARY KEY(id)) DEFAULT CHARACTER SET utf8 COLLATE utf8_general_ci ENGINE = InnoDB;
CREATE TABLE propertyvaluelist_nativevalue (id INT AUTO_INCREMENT NOT NULL, `order` INT NOT NULL, nativeValue_id INT DEFAULT NULL, propertyValueList_id INT DEFAULT NULL, INDEX IDX_66E61C7C19A852A (nativeValue_id), INDEX IDX_66E61C75E8A3E61 (propertyValueList_id), PRIMARY KEY(id)) DEFAULT CHARACTER SET utf8 COLLATE utf8_general_ci ENGINE = InnoDB;
CREATE TABLE user (id INT AUTO_INCREMENT NOT NULL, username VARCHAR(255) NOT NULL, firstName VARCHAR(255) NOT NULL, lastName VARCHAR(255) NOT NULL, email VARCHAR(255) NOT NULL, PRIMARY KEY(id)) DEFAULT CHARACTER SET utf8 COLLATE utf8_general_ci ENGINE = InnoDB;
CREATE TABLE itemstatelist (id INT AUTO_INCREMENT NOT NULL, name VARCHAR(255) NOT NULL, PRIMARY KEY(id)) DEFAULT CHARACTER SET utf8 COLLATE utf8_general_ci ENGINE = InnoDB;
CREATE TABLE property (id INT AUTO_INCREMENT NOT NULL, name VARCHAR(255) NOT NULL, description LONGTEXT DEFAULT NULL, valuesProvider VARCHAR(255) DEFAULT NULL, valuesProviderConfig VARCHAR(255) DEFAULT NULL, propertyType VARCHAR(255) NOT NULL, PRIMARY KEY(id)) DEFAULT CHARACTER SET utf8 COLLATE utf8_general_ci ENGINE = InnoDB;
CREATE TABLE propertyvaluelist (id INT AUTO_INCREMENT NOT NULL, name VARCHAR(255) NOT NULL, nativeType VARCHAR(255) NOT NULL, PRIMARY KEY(id)) DEFAULT CHARACTER SET utf8 COLLATE utf8_general_ci ENGINE = InnoDB;
CREATE TABLE projectversion (id INT AUTO_INCREMENT NOT NULL, project_id INT DEFAULT NULL, version VARCHAR(255) NOT NULL, name VARCHAR(255) NOT NULL, description LONGTEXT DEFAULT NULL, released TINYINT(1) DEFAULT NULL, `order` INT DEFAULT NULL, INDEX IDX_518BDF0A166D1F9C (project_id), PRIMARY KEY(id)) DEFAULT CHARACTER SET utf8 COLLATE utf8_general_ci ENGINE = InnoDB;
CREATE TABLE project (id INT AUTO_INCREMENT NOT NULL, version_id INT DEFAULT NULL, name VARCHAR(255) NOT NULL, description LONGTEXT DEFAULT NULL, INDEX IDX_2FB3D0EE4BBC2705 (version_id), PRIMARY KEY(id)) DEFAULT CHARACTER SET utf8 COLLATE utf8_general_ci ENGINE = InnoDB;
CREATE TABLE project_backlog (project_id INT NOT NULL, item_id INT NOT NULL, INDEX IDX_96389E60166D1F9C (project_id), INDEX IDX_96389E60126F525E (item_id), PRIMARY KEY(project_id, item_id)) DEFAULT CHARACTER SET utf8 COLLATE utf8_general_ci ENGINE = InnoDB;
CREATE TABLE itemtype (id INT AUTO_INCREMENT NOT NULL, name VARCHAR(255) NOT NULL, description LONGTEXT DEFAULT NULL, supportsTiming TINYINT(1) NOT NULL, supportsVersions TINYINT(1) NOT NULL, itemStateList_id INT DEFAULT NULL, INDEX IDX_26A035E1A400260B (itemStateList_id), PRIMARY KEY(id)) DEFAULT CHARACTER SET utf8 COLLATE utf8_general_ci ENGINE = InnoDB;
CREATE TABLE item_type_property_value (id INT AUTO_INCREMENT NOT NULL, item_id INT DEFAULT NULL, nativeValue_id INT DEFAULT NULL, itemType_property_id INT DEFAULT NULL, INDEX IDX_124C076F126F525E (item_id), INDEX IDX_124C076FC19A852A (nativeValue_id), INDEX IDX_124C076FCFAE834E (itemType_property_id), PRIMARY KEY(id)) DEFAULT CHARACTER SET utf8 COLLATE utf8_general_ci ENGINE = InnoDB;
CREATE TABLE itemtype_property (id INT AUTO_INCREMENT NOT NULL, property_id INT DEFAULT NULL, required TINYINT(1) NOT NULL, defaultProvider VARCHAR(255) NOT NULL, defaultProviderConfig VARCHAR(255) DEFAULT NULL, `order` INT NOT NULL, itemType_id INT DEFAULT NULL, INDEX IDX_D30CA44A753B2743 (itemType_id), INDEX IDX_D30CA44A549213EC (property_id), PRIMARY KEY(id)) DEFAULT CHARACTER SET utf8 COLLATE utf8_general_ci ENGINE = InnoDB;
CREATE TABLE itemrelation (id INT AUTO_INCREMENT NOT NULL, item_id INT DEFAULT NULL, related_item_id INT DEFAULT NULL, type VARCHAR(255) NOT NULL, description LONGTEXT DEFAULT NULL, INDEX IDX_1D9C8060126F525E (item_id), INDEX IDX_1D9C80602D7698FB (related_item_id), PRIMARY KEY(id)) DEFAULT CHARACTER SET utf8 COLLATE utf8_general_ci ENGINE = InnoDB;
CREATE TABLE nativevalue (id INT AUTO_INCREMENT NOT NULL, nativeType VARCHAR(255) NOT NULL, PRIMARY KEY(id)) DEFAULT CHARACTER SET utf8 COLLATE utf8_general_ci ENGINE = InnoDB;
CREATE TABLE item (id INT AUTO_INCREMENT NOT NULL, project_id INT DEFAULT NULL, title VARCHAR(255) NOT NULL, description LONGTEXT DEFAULT NULL, dateCreated DATETIME NOT NULL, dateUpdate DATETIME NOT NULL, versionReported_id INT DEFAULT NULL, versionFixed_id INT DEFAULT NULL, createdByUser_id INT DEFAULT NULL, itemType_id INT DEFAULT NULL, itemState_id INT DEFAULT NULL, INDEX IDX_1F1B251EDB6E6A34 (versionReported_id), INDEX IDX_1F1B251E879812FB (versionFixed_id), INDEX IDX_1F1B251EE1F44B34 (createdByUser_id), INDEX IDX_1F1B251E753B2743 (itemType_id), INDEX IDX_1F1B251E83BB99BE (itemState_id), INDEX IDX_1F1B251E166D1F9C (project_id), PRIMARY KEY(id)) DEFAULT CHARACTER SET utf8 COLLATE utf8_general_ci ENGINE = InnoDB;
CREATE TABLE item_user (item_id INT NOT NULL, user_id INT NOT NULL, INDEX IDX_45A392B2126F525E (item_id), INDEX IDX_45A392B2A76ED395 (user_id), PRIMARY KEY(item_id, user_id)) DEFAULT CHARACTER SET utf8 COLLATE utf8_general_ci ENGINE = InnoDB;
CREATE TABLE projectmilestone (id INT AUTO_INCREMENT NOT NULL, project_id INT DEFAULT NULL, version_id INT DEFAULT NULL, name VARCHAR(255) NOT NULL, description LONGTEXT DEFAULT NULL, dateCreated DATETIME NOT NULL, dateStart DATETIME DEFAULT NULL, dateEnd DATETIME DEFAULT NULL, INDEX IDX_5C224D39166D1F9C (project_id), INDEX IDX_5C224D394BBC2705 (version_id), PRIMARY KEY(id)) DEFAULT CHARACTER SET utf8 COLLATE utf8_general_ci ENGINE = InnoDB;
CREATE TABLE projectmilestone_backlog (item_id INT NOT NULL, projectMilstone_id INT NOT NULL, INDEX IDX_7CB7A960EAB33EBF (projectMilstone_id), INDEX IDX_7CB7A960126F525E (item_id), PRIMARY KEY(projectMilstone_id, item_id)) DEFAULT CHARACTER SET utf8 COLLATE utf8_general_ci ENGINE = InnoDB;
CREATE TABLE nativevalue_text (id INT NOT NULL, value LONGTEXT NOT NULL, PRIMARY KEY(id)) DEFAULT CHARACTER SET utf8 COLLATE utf8_general_ci ENGINE = InnoDB;
CREATE TABLE nativevalue_int (id INT NOT NULL, value INT NOT NULL, PRIMARY KEY(id)) DEFAULT CHARACTER SET utf8 COLLATE utf8_general_ci ENGINE = InnoDB;
ALTER TABLE itemtiming ADD CONSTRAINT FK_B32E61A7126F525E FOREIGN KEY (item_id) REFERENCES item (id);
ALTER TABLE itemstate ADD CONSTRAINT FK_3686E61BA400260B FOREIGN KEY (itemStateList_id) REFERENCES itemstatelist (id);
ALTER TABLE nativevalue_string ADD CONSTRAINT FK_1AFC9E76BF396750 FOREIGN KEY (id) REFERENCES nativevalue (id) ON DELETE CASCADE;
ALTER TABLE propertyvaluelist_nativevalue ADD CONSTRAINT FK_66E61C7C19A852A FOREIGN KEY (nativeValue_id) REFERENCES nativevalue (id);
ALTER TABLE propertyvaluelist_nativevalue ADD CONSTRAINT FK_66E61C75E8A3E61 FOREIGN KEY (propertyValueList_id) REFERENCES propertyvaluelist (id);
ALTER TABLE projectversion ADD CONSTRAINT FK_518BDF0A166D1F9C FOREIGN KEY (project_id) REFERENCES project (id);
ALTER TABLE project ADD CONSTRAINT FK_2FB3D0EE4BBC2705 FOREIGN KEY (version_id) REFERENCES projectversion (id);
ALTER TABLE project_backlog ADD CONSTRAINT FK_96389E60166D1F9C FOREIGN KEY (project_id) REFERENCES project (id);
ALTER TABLE project_backlog ADD CONSTRAINT FK_96389E60126F525E FOREIGN KEY (item_id) REFERENCES item (id);
ALTER TABLE itemtype ADD CONSTRAINT FK_26A035E1A400260B FOREIGN KEY (itemStateList_id) REFERENCES itemstatelist (id);
ALTER TABLE item_type_property_value ADD CONSTRAINT FK_124C076F126F525E FOREIGN KEY (item_id) REFERENCES item (id);
ALTER TABLE item_type_property_value ADD CONSTRAINT FK_124C076FC19A852A FOREIGN KEY (nativeValue_id) REFERENCES nativevalue (id);
ALTER TABLE item_type_property_value ADD CONSTRAINT FK_124C076FCFAE834E FOREIGN KEY (itemType_property_id) REFERENCES itemtype_property (id);
ALTER TABLE itemtype_property ADD CONSTRAINT FK_D30CA44A753B2743 FOREIGN KEY (itemType_id) REFERENCES itemtype (id);
ALTER TABLE itemtype_property ADD CONSTRAINT FK_D30CA44A549213EC FOREIGN KEY (property_id) REFERENCES property (id);
ALTER TABLE itemrelation ADD CONSTRAINT FK_1D9C8060126F525E FOREIGN KEY (item_id) REFERENCES item (id);
ALTER TABLE itemrelation ADD CONSTRAINT FK_1D9C80602D7698FB FOREIGN KEY (related_item_id) REFERENCES item (id);
ALTER TABLE item ADD CONSTRAINT FK_1F1B251EDB6E6A34 FOREIGN KEY (versionReported_id) REFERENCES projectversion (id);
ALTER TABLE item ADD CONSTRAINT FK_1F1B251E879812FB FOREIGN KEY (versionFixed_id) REFERENCES projectversion (id);
ALTER TABLE item ADD CONSTRAINT FK_1F1B251EE1F44B34 FOREIGN KEY (createdByUser_id) REFERENCES user (id);
ALTER TABLE item ADD CONSTRAINT FK_1F1B251E753B2743 FOREIGN KEY (itemType_id) REFERENCES itemtype (id);
ALTER TABLE item ADD CONSTRAINT FK_1F1B251E83BB99BE FOREIGN KEY (itemState_id) REFERENCES itemstate (id);
ALTER TABLE item ADD CONSTRAINT FK_1F1B251E166D1F9C FOREIGN KEY (project_id) REFERENCES project (id);
ALTER TABLE item_user ADD CONSTRAINT FK_45A392B2126F525E FOREIGN KEY (item_id) REFERENCES item (id);
ALTER TABLE item_user ADD CONSTRAINT FK_45A392B2A76ED395 FOREIGN KEY (user_id) REFERENCES user (id);
ALTER TABLE projectmilestone ADD CONSTRAINT FK_5C224D39166D1F9C FOREIGN KEY (project_id) REFERENCES project (id);
ALTER TABLE projectmilestone ADD CONSTRAINT FK_5C224D394BBC2705 FOREIGN KEY (version_id) REFERENCES projectversion (id);
ALTER TABLE projectmilestone_backlog ADD CONSTRAINT FK_7CB7A960EAB33EBF FOREIGN KEY (projectMilstone_id) REFERENCES projectmilestone (id);
ALTER TABLE projectmilestone_backlog ADD CONSTRAINT FK_7CB7A960126F525E FOREIGN KEY (item_id) REFERENCES item (id);
ALTER TABLE nativevalue_text ADD CONSTRAINT FK_EF02C89CBF396750 FOREIGN KEY (id) REFERENCES nativevalue (id) ON DELETE CASCADE;
ALTER TABLE nativevalue_int ADD CONSTRAINT FK_260E63D2BF396750 FOREIGN KEY (id) REFERENCES nativevalue (id) ON DELETE CASCADE;

--//@UNDO